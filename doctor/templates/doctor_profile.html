    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Doctor Dashboard</title>
        <script src="https://cdn.tailwindcss.com/3.4.16"></script>
        <script>
        tailwind.config = {
            theme: {
            extend: {
                colors: { primary: "#2D7DD2", secondary: "#4CAF50" },
                borderRadius: {
                none: "0px",
                sm: "4px",
                DEFAULT: "8px",
                md: "12px",
                lg: "16px",
                xl: "20px",
                "2xl": "24px",
                "3xl": "32px",
                full: "9999px",
                button: "8px",
                },
            },
            },
        };
        </script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
        href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
        rel="stylesheet"
        />
        <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet"
        />
        <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
        <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }
        body {
            font-family: "Inter", sans-serif;
            background-color: #f9fafb;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .sidebar-link.active {
            background-color: rgba(45, 125, 210, 0.1);
            color: #2d7dd2;
            border-left: 3px solid #2d7dd2;
        }
        .sidebar-link:hover:not(.active) {
            background-color: rgba(45, 125, 210, 0.05);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
            0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .custom-switch {
            position: relative;
            display: inline-block;
            width: 46px;
            height: 24px;
        }
        .custom-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .switch-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #e2e8f0;
            transition: 0.4s;
            border-radius: 24px;
        }
        .switch-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        input:checked + .switch-slider {
            background-color: #2d7dd2;
        }
        input:checked + .switch-slider:before {
            transform: translateX(22px);
        }
        </style>
    </head>
    <body>
        <div class="flex h-screen">
        <!-- Sidebar -->
        <div
            class="w-64 h-full bg-white border-r border-gray-200 flex flex-col shadow-sm"
        >
            <!-- Doctor Profile -->
            <div class="p-6 border-b border-gray-200">
            <div class="flex items-center space-x-4">
                <div class="relative">
                <img
                    src="https://readdy.ai/api/search-image?query=professional%20portrait%20of%20a%20male%20doctor%20with%20a%20stethoscope%2C%20wearing%20a%20white%20coat%2C%20looking%20confident%20and%20approachable%2C%20high%20quality%20professional%20headshot%2C%20neutral%20background%2C%20medical%20professional&width=100&height=100&seq=123&orientation=squarish"
                    alt="Doctor Profile"
                    class="w-14 h-14 rounded-full object-cover object-top"
                />
                <div
                    class="absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"
                ></div>
                </div>
                <div>
                <h2 class="text-lg font-semibold text-gray-800">
                    Dr. Michael Chen
                </h2>
                <p class="text-sm text-gray-500">Cardiologist</p>
                </div>
            </div>
            </div>

            <!-- Navigation Menu -->
            <div class="flex-1 overflow-y-auto py-4">
            <nav class="px-4 space-y-1">
                <a
                href="#"
                class="sidebar-link active flex items-center px-4 py-3 text-sm font-medium rounded-md group transition-all"
                >
                <div
                    class="w-6 h-6 mr-3 flex items-center justify-center text-primary"
                >
                    <i class="ri-stethoscope-line ri-lg"></i>
                </div>
                Patient Consultation
                </a>

                <a
                href="#"
                class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-600 rounded-md group transition-all"
                >
                <div
                    class="w-6 h-6 mr-3 flex items-center justify-center text-gray-500"
                >
                    <i class="ri-medicine-bottle-line ri-lg"></i>
                </div>
                Medical Advice & Prescriptions
                </a>

                <a
                href="#"
                class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-600 rounded-md group transition-all"
                >
                <div
                    class="w-6 h-6 mr-3 flex items-center justify-center text-gray-500"
                >
                    <i class="ri-line-chart-line ri-lg"></i>
                </div>
                Patient History & Analytics
                </a>

                <a
                href="#"
                class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-600 rounded-md group transition-all"
                >
                <div
                    class="w-6 h-6 mr-3 flex items-center justify-center text-gray-500"
                >
                    <i class="ri-calendar-line ri-lg"></i>
                </div>
                Appointment Schedule
                </a>

                <a
                href="#"
                class="sidebar-link flex items-center px-4 py-3 text-sm font-medium text-gray-600 rounded-md group transition-all"
                >
                <div
                    class="w-6 h-6 mr-3 flex items-center justify-center text-gray-500"
                >
                    <i class="ri-message-3-line ri-lg"></i>
                </div>
                Messages
                <div
                    class="ml-auto bg-primary text-white text-xs font-medium px-2 py-0.5 rounded-full"
                >
                    3
                </div>
                </a>
            </nav>
            </div>

            <!-- Bottom Section -->
            <div class="p-4 border-t border-gray-200">
            <a
                href="{% url 'doctor_logout' %}"
                class="flex items-center px-4 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-100 transition-all"
            >
                <div
                class="w-5 h-5 mr-3 flex items-center justify-center text-gray-500"
                >
                <i class="ri-logout-box-line"></i>
                </div>
                Logout
            </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 overflow-y-auto">
            <!-- Header -->
            <header class="bg-white shadow-sm">
            <div class="px-6 py-4 flex items-center justify-between">
                <h1 class="text-xl font-semibold text-gray-800">
                Doctor Dashboard
                </h1>
                <div class="flex items-center space-x-4">
                <div class="relative">
                    <div class="bg-gray-100 rounded-md px-3 py-2 flex items-center">
                    <div
                        class="w-4 h-4 flex items-center justify-center text-gray-500 mr-2"
                    >
                        <i class="ri-calendar-line"></i>
                    </div>
                    <span class="text-sm font-medium">April 29, 2025</span>
                    </div>
                </div>
                </div>
            </div>
            </header>

            <!-- Dashboard Content -->
            <div class="p-10 ml-8">
            <!-- Stats Cards -->
            <div
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"
            >
                <!-- Today's Appointments -->
                <div
                class="bg-white rounded-lg shadow-sm p-6 transition-all duration-200 card-hover"
                >
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-500">
                    Today's Appointments
                    </h3>
                    <div
                    class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center"
                    >
                    <div
                        class="w-5 h-5 flex items-center justify-center text-primary"
                    >
                        <i class="ri-calendar-check-line"></i>
                    </div>
                    </div>
                </div>
                <div class="flex items-end">
                    <span class="text-3xl font-bold text-gray-800">8</span>
                </div>
                <p class="mt-1 text-sm text-gray-500">2 appointments remaining</p>
                </div>

                <!-- Pending Consultations -->
                <div
                class="bg-white rounded-lg shadow-sm p-6 transition-all duration-200 card-hover"
                >
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-500">
                    Pending Consultations
                    </h3>
                    <div
                    class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center"
                    >
                    <div
                        class="w-5 h-5 flex items-center justify-center text-orange-500"
                    >
                        <i class="ri-time-line"></i>
                    </div>
                    </div>
                </div>
                <div class="flex items-end">
                    <span class="text-3xl font-bold text-gray-800">5</span>
                </div>
                <p class="mt-1 text-sm text-gray-500">Requires your attention</p>
                </div>

                <!-- Patient Analytics -->
                <div
                class="bg-white rounded-lg shadow-sm p-6 transition-all duration-200 card-hover"
                >
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-500">New Patients</h3>
                    <div
                    class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center"
                    >
                    <div
                        class="w-5 h-5 flex items-center justify-center text-purple-500"
                    >
                        <i class="ri-user-add-line"></i>
                    </div>
                    </div>
                </div>
                <div class="flex items-end">
                    <span class="text-3xl font-bold text-gray-800">12</span>
                </div>
                <p class="mt-1 text-sm text-gray-500">This month</p>
                </div>
            </div>

                <!-- Upcoming Appointments -->
                <div class="bg-white rounded-lg shadow-sm p-6 lg:col-span-2">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-lg font-semibold text-gray-800">
                    Upcoming Appointments
                    </h2>
                </div>

                <div class="overflow-x-auto">
                    <table class="min-w-full">
                    <thead>
                        <tr class="border-b border-gray-200">
                        <th
                            class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Patient
                        </th>
                        <th
                            class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Time
                        </th>
                        <th
                            class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Date
                        </th>
                        <th
                            class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Status
                        </th>
                        <th
                            class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                            Action
                        </th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        {% for consultation in consultations %}
                        <tr>
                        <td class="px-4 py-4 whitespace-nowrap">
                            <div class="text-sm font-medium text-gray-900">
                            {{ consultation.user.username }}
                            </div>
                            <div class="text-sm text-gray-500">
                            {{ consultation.user.email }}
                            </div>
                        </td>
                        <td class="px-4 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">
                            {{ consultation.appointment_time }}
                            </div>
                        </td>
                        <td class="px-4 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">
                            {{ consultation.appointment_date }}
                            </div>
                        </td>
                        <td class="px-4 py-4 whitespace-nowrap">
                            <span
                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full {% if consultation.status == 'confirmed' %} bg-green-100 text-green-800 {% elif consultation.status == 'cancelled' %} bg-red-100 text-red-800 {% else %} bg-yellow-100 text-yellow-800 {% endif %}"
                            >
                            {{ consultation.status|title }}
                            </span>
                        </td>
                        <td class="px-4 py-4 whitespace-nowrap">
                            {% if consultation.status == 'pending' %}
                            <form
                            method="POST"
                            action="{% url 'approve_appointment' consultation.id %}"
                            class="inline"
                            >
                            {% csrf_token %}
                            <button
                                type="submit"
                                class="text-green-600 hover:underline"
                            >
                                Approve
                            </button>
                            </form>
                            <form
                            method="POST"
                            action="{% url 'decline_appointment' consultation.id %}"
                            class="inline ml-2"
                            >
                            {% csrf_token %}
                            <button
                                type="submit"
                                class="text-red-600 hover:underline"
                            >
                                Decline
                            </button>
                            </form>
                            {% else %}
                            <span class="text-gray-500"
                            >{{ consultation.status|title }}</span
                            >
                            {% endif %}
                        </td>
                        </tr>
                        {% empty %}
                        <tr>
                        <td colspan="5" class="text-center text-gray-500 py-4">
                            No appointments found.
                        </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    </table>
                </div>
                </div>
            </div>
            </div>
        </div>
        </div>

        <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Initialize Patient Statistics Chart
            const chartDom = document.getElementById("patientChart");
            const myChart = echarts.init(chartDom);

            const option = {
            animation: false,
            tooltip: {
                trigger: "item",
                backgroundColor: "rgba(255, 255, 255, 0.8)",
                borderColor: "#eee",
                borderWidth: 1,
                textStyle: {
                color: "#1f2937",
                },
            },
            legend: {
                show: false,
            },
            series: [
                {
                name: "Patient Types",
                type: "pie",
                radius: ["40%", "70%"],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 8,
                    borderColor: "#fff",
                    borderWidth: 2,
                },
                label: {
                    show: false,
                },
                emphasis: {
                    label: {
                    show: false,
                    },
                },
                labelLine: {
                    show: false,
                },
                data: [
                    {
                    value: 42,
                    name: "Follow-up",
                    itemStyle: { color: "rgba(87, 181, 231, 1)" },
                    },
                    {
                    value: 28,
                    name: "New Patients",
                    itemStyle: { color: "rgba(141, 211, 199, 1)" },
                    },
                    {
                    value: 30,
                    name: "Check-up",
                    itemStyle: { color: "rgba(251, 191, 114, 1)" },
                    },
                ],
                },
            ],
            };

            myChart.setOption(option);

            // Handle window resize
            window.addEventListener("resize", function () {
            myChart.resize();
            });
        });

        // Toggle sidebar links active state
        document.addEventListener("DOMContentLoaded", function () {
            const sidebarLinks = document.querySelectorAll(".sidebar-link");

            sidebarLinks.forEach((link) => {
            link.addEventListener("click", function (e) {
                e.preventDefault();

                // Remove active class from all links
                sidebarLinks.forEach((l) => l.classList.remove("active"));

                // Add active class to clicked link
                this.classList.add("active");
            });
            });
        });
        </script>
    </body>
    </html>
