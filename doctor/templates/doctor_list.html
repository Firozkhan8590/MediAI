<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { primary: "#4f46e5", secondary: "#f97316" },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <style>
      :where([class^="ri-"])::before {
        content: "\f3c2";
      }
      .sidebar {
        width: 250px;
        transition: all 0.3s;
      }
      .main-content {
        transition: all 0.3s;
      }
      .custom-switch {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 22px;
      }
      .custom-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .switch-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #e5e7eb;
        transition: 0.4s;
        border-radius: 34px;
      }
      .switch-slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 2px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }
      input:checked + .switch-slider {
        background-color: #4f46e5;
      }
      input:checked + .switch-slider:before {
        transform: translateX(22px);
      }
      input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 6px;
        background: #e5e7eb;
        border-radius: 5px;
        outline: none;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        background: #4f46e5;
        border-radius: 50%;
        cursor: pointer;
      }
      .custom-checkbox {
        position: relative;
        display: inline-block;
        width: 18px;
        height: 18px;
      }
      .custom-checkbox input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .checkbox-mark {
        position: absolute;
        top: 0;
        left: 0;
        height: 18px;
        width: 18px;
        background-color: #fff;
        border: 2px solid #d1d5db;
        border-radius: 4px;
        transition: all 0.2s;
      }
      .custom-checkbox input:checked ~ .checkbox-mark {
        background-color: #4f46e5;
        border-color: #4f46e5;
      }
      .checkbox-mark:after {
        content: "";
        position: absolute;
        display: none;
      }
      .custom-checkbox input:checked ~ .checkbox-mark:after {
        display: block;
      }
      .custom-checkbox .checkbox-mark:after {
        left: 5px;
        top: 2px;
        width: 5px;
        height: 10px;
        border: solid white;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
      }
      .custom-radio {
        position: relative;
        display: inline-block;
        width: 18px;
        height: 18px;
      }
      .custom-radio input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .radio-mark {
        position: absolute;
        top: 0;
        left: 0;
        height: 18px;
        width: 18px;
        background-color: #fff;
        border: 2px solid #d1d5db;
        border-radius: 50%;
      }
      .custom-radio input:checked ~ .radio-mark {
        border-color: #4f46e5;
      }
      .radio-mark:after {
        content: "";
        position: absolute;
        display: none;
        top: 3px;
        left: 3px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #4f46e5;
      }
      .custom-radio input:checked ~ .radio-mark:after {
        display: block;
      }
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
  </head>
  <body>
    {% include 'admin_sidebar.html' %}

    <div class="ml-64 p-6">
      <!-- User Management Section -->
      <div class="bg-white rounded shadow-sm mb-8">
        <div class="p-6 border-b border-gray-100">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-bold text-gray-800">Doctor Management</h2>
          </div>
        </div>
        {% if messages %}
        <div class="flex flex-col items-center px-4 py-4 space-y-3">
          {% for message in messages %}
            {% if message.tags == 'success' %}
              <div class="flex items-center bg-green-100 border border-green-400 text-green-800 text-sm font-semibold px-6 py-3 rounded-md shadow-md w-full max-w-md" role="alert">
                <svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
                </svg>
                {{ message }}
              </div>
            {% elif message.tags == 'error' %}
              <div class="flex items-center bg-red-100 border border-red-400 text-red-800 text-sm font-semibold px-6 py-3 rounded-md shadow-md w-full max-w-md" role="alert">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
                </svg>
                {{ message }}
              </div>
            {% elif message.tags == 'info' %}
              <div class="flex items-center bg-blue-100 border border-blue-400 text-blue-800 text-sm font-semibold px-6 py-3 rounded-md shadow-md w-full max-w-md" role="alert">
                <svg class="w-5 h-5 mr-2 text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M12 20c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z"/>
                </svg>
                {{ message }}
              </div>
            {% else %}
              <div class="flex items-center bg-gray-100 border border-gray-400 text-gray-800 text-sm font-semibold px-6 py-3 rounded-md shadow-md w-full max-w-md" role="alert">
                {{ message }}
              </div>
            {% endif %}
          {% endfor %}
        </div>
        {% endif %}
        <div class="p-6">
          <div
            class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6"
          ></div>
          <div class="overflow-x-auto">
            <table class="w-full text-sm text-left text-gray-700">
              <thead class="text-xs text-gray-500 uppercase bg-gray-50">
                <tr>
                  <th class="px-6 py-3">Name</th>
                  <th class="px-6 py-3">Email</th>
                  <th class="px-6 py-3">Phone</th>
                  <th class="px-6 py-3">License</th>
                  <th class="px-6 py-3">Experience</th>
                  <th class="px-6 py-3">Specialization</th>
                  <th class="px-6 py-3">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for user in users %}
                <tr class="bg-white border-b hover:bg-gray-50">

                  <!-- Name -->
                  <td class="px-6 py-4 font-medium text-gray-800">
                    {{ user.name }}
                  </td>

                  <!-- Email -->
                  <td class="px-6 py-4">
                    <span
                      class="bg-blue-100 text-blue-700 text-xs font-medium px-2.5 py-0.5 rounded"
                    >
                      {{ user.email }}
                    </span>
                  </td>

                  <!-- Phone -->
                  <td class="px-6 py-4">{{ user.contact_number }}</td>

                  <!-- License Number -->
                  <td class="px-6 py-4">{{ user.license_number }}</td>

                  <!-- Experience -->
                  <td class="px-6 py-4">{{ user.experience_years }} years</td>

                  <!-- Specialization -->
                  <td class="px-6 py-4">{{ user.specialization }}</td>

                  <!-- Actions -->
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-2">
                      <a
                        href="{% url 'view_doctors' user.id %}"
                        title="View"
                        class="w-8 h-8 rounded flex items-center justify-center text-blue-500 hover:bg-blue-100"
                      >
                        <i class="ri-eye-line"></i>
                      </a>

                      <form
                        method="POST"
                        action="{% url 'delete_doctor' user.id %}"
                        onsubmit="return confirm('Are you sure you want to delete this doctor?');"
                      >
                        {% csrf_token %}
                        <button
                          type="submit"
                          title="Delete"
                          class="w-8 h-8 rounded flex items-center justify-center text-red-500 hover:bg-red-100"
                        >
                          <i class="ri-delete-bin-line"></i>
                        </button>
                      </form>
                    </div>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
